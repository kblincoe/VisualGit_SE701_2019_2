<nav class="navbar navbar-expand-lg" role="navigation">
  <!-- Header row, for navigation to other pages -->

  <!-- Navbar expansion button -->
  <button type="button" class="icon-btn expansion-btn" (click)="isCollapsed = !isCollapsed" [attr.aria-expanded]="!isCollapsed" aria-controls="navbar">
    <img class="icon" src="./assets/RightArrow.svg">
  </button>

  <!-- Screen selection -->
  <button class="icon-btn"><img src="./assets/AddRepositoryFolder.svg" (click)="gotoAddRepository()" class="icon" title="Add Repository"></button>

  <!-- Collapsible menu giving options for repository management -->
  <!-- NOTE: Uses https://getbootstrap.com/docs/4.0/components/navbar/ -->
  <div class="header-left navbar" id="navbar" [ngbCollapse]="isCollapsed">
    <!-- Left side navbar part, showing repository dropdown and branch dropdown -->
    <ul class="navbar-nav mr-auto">

      <!-- Repo list -->
      <li [hidden]="!currentRepo && !repositories"><img src="./assets/RightArrow.svg" class="right-arrow"></li>
      <li ngbDropdown class="nav-item" [hidden]="!currentRepo && !repositories">
        <button ngbDropdownToggle class="dropdown-btn">{{currentRepo || "repository"}}</button>
        <div ngbDropdownMenu>
          <button ngbDropdownItem *ngFor="let repo of repositories" (click)="selectRepository(repo)">{{repo.uniqueName}}</button>
        </div>
      </li>

      <li [hidden]="!currentRepo"><img src="./assets/RightArrow.svg" class="right-arrow"></li>

      <!-- Branch list -->
      <li ngbDropdown class="nav-item" [hidden]="!currentRepo">
        <button ngbDropdownToggle class="dropdown-btn">{{currentBranch || "branch"}}</button>
        <div ngbDropdownMenu>
          <div ngbDropdownItem>
            <input type="text" class="form-control" [formControl]="branchCreationName" placeholder="Search or create branch">
            <span class="input-group-btn">
              <button class="btn btn-default" type="button" (click)="createBranch()">OK</button>
            </span>
          </div>
          <button ngbDropdownItem *ngFor="let branch of branches" (click)="selectBranch(branch)">{{branch}}</button>
        </div>
      </li>
    </ul>

    <!-- Repo Github options. Presented as icons, on far left. -->
    <div class="navbar-nav ml-auto" [hidden]="!currentRepo">
      <button class="icon-btn" (click)="push()">  <img class="icon" src="./assets/push.svg"           title="Push"> </button>
      <button class="icon-btn" (click)="pull()">  <img class="icon" src="./assets/pull.svg"           title="Pull"> </button>
      <button class="icon-btn" (click)="clean()"> <img class="icon" src="./assets/Clean-Dark.svg"     title="Clean"></button>
      <button class="icon-btn" (click)="sync()">  <img class="icon" src="./assets/refresh-button.png" title="Sync"> </button>
    </div>

    <ul class="navbar-nav">
      <li><button class="btn btn-primary" (click)="toggleLog()">{{loggedIn ? "logout" : "login"}}</button></li>
      <li *ngIf="userIconUrl"><button class="icon-btn" (click)="selectUser()"><img class="icon" [src]="userIconUrl"></button></li>
    </ul>
  </div>
</nav>
